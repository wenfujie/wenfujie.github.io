<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>小程序基础组件、API、应用场景及生态圈简介 | 温富杰 blog</title><meta name="description" content="小程序基础组件、API、应用场景及生态圈简介"><meta name="keywords" content="小程序"><meta name="author" content="温富杰"><meta name="copyright" content="温富杰"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://s2.ax1x.com/2020/03/01/3caYmF.png"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="http://ta.qq.com"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="小程序基础组件、API、应用场景及生态圈简介"><meta name="twitter:description" content="小程序基础组件、API、应用场景及生态圈简介"><meta name="twitter:image" content="https://s2.ax1x.com/2020/03/01/3gYnpV.jpg"><meta property="og:type" content="article"><meta property="og:title" content="小程序基础组件、API、应用场景及生态圈简介"><meta property="og:url" content="http://wenf.top/2018/10/31/小程序基础组件、API、应用场景及生态圈简介/"><meta property="og:site_name" content="温富杰 blog"><meta property="og:description" content="小程序基础组件、API、应用场景及生态圈简介"><meta property="og:image" content="https://s2.ax1x.com/2020/03/01/3gYnpV.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'true'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://wenf.top/2018/10/31/小程序基础组件、API、应用场景及生态圈简介/"><link rel="prev" title="前端初级核心基础" href="http://wenf.top/2019/04/10/低端原理/"><link rel="next" title="良好js代码风格的养成" href="http://wenf.top/2018/06/13/良好js代码风格的养成/"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: '',
  enable_page_level_ads: 'true'
});</script><script src="http://tajs.qq.com/stats?sId=66524452" charset="UTF-8"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查詢的內容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"http://wenf.top/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '鍵將本頁加入書籤'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">温富杰 blog</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娛樂</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-file-image-o"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 電影</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://s2.ax1x.com/2020/02/29/3yUm5t.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">標籤</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分類</div><div class="length_num">3</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娛樂</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-file-image-o"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 電影</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目錄</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#小程序的使用场景"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">小程序的使用场景</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#小程序SWOT分析"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">小程序SWOT分析</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#文件结构"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">文件结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#常用组件"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">常用组件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#文档Api结构"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">文档Api结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#小程序高频基础开发组件、API"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">小程序高频基础开发组件、API</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#view基础容器（更多）"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">view基础容器（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#滚动容器（更多）"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">滚动容器（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#跳转页面（更多）"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">跳转页面（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#图片（更多）"><span class="toc_mobile_items-number">6.4.</span> <span class="toc_mobile_items-text">图片（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#全局配置（更多）"><span class="toc_mobile_items-number">6.5.</span> <span class="toc_mobile_items-text">全局配置（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#生命周期（更多）"><span class="toc_mobile_items-number">6.6.</span> <span class="toc_mobile_items-text">生命周期（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#数据请求"><span class="toc_mobile_items-number">6.7.</span> <span class="toc_mobile_items-text">数据请求</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#setData函数（更多）"><span class="toc_mobile_items-number">6.8.</span> <span class="toc_mobile_items-text">setData函数（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#事件-更多"><span class="toc_mobile_items-number">6.9.</span> <span class="toc_mobile_items-text">事件(更多)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#自定义组件（更多）"><span class="toc_mobile_items-number">6.10.</span> <span class="toc_mobile_items-text">自定义组件（更多）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#插件的使用"><span class="toc_mobile_items-number">6.11.</span> <span class="toc_mobile_items-text">插件的使用</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目錄</div><div class="sidebar-toc__progress"><span class="progress-notice">你已經讀了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#小程序的使用场景"><span class="toc-number">1.</span> <span class="toc-text">小程序的使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小程序SWOT分析"><span class="toc-number">2.</span> <span class="toc-text">小程序SWOT分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件结构"><span class="toc-number">3.</span> <span class="toc-text">文件结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用组件"><span class="toc-number">4.</span> <span class="toc-text">常用组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文档Api结构"><span class="toc-number">5.</span> <span class="toc-text">文档Api结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小程序高频基础开发组件、API"><span class="toc-number">6.</span> <span class="toc-text">小程序高频基础开发组件、API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#view基础容器（更多）"><span class="toc-number">6.1.</span> <span class="toc-text">view基础容器（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#滚动容器（更多）"><span class="toc-number">6.2.</span> <span class="toc-text">滚动容器（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#跳转页面（更多）"><span class="toc-number">6.3.</span> <span class="toc-text">跳转页面（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图片（更多）"><span class="toc-number">6.4.</span> <span class="toc-text">图片（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#全局配置（更多）"><span class="toc-number">6.5.</span> <span class="toc-text">全局配置（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#生命周期（更多）"><span class="toc-number">6.6.</span> <span class="toc-text">生命周期（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数据请求"><span class="toc-number">6.7.</span> <span class="toc-text">数据请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setData函数（更多）"><span class="toc-number">6.8.</span> <span class="toc-text">setData函数（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#事件-更多"><span class="toc-number">6.9.</span> <span class="toc-text">事件(更多)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自定义组件（更多）"><span class="toc-number">6.10.</span> <span class="toc-text">自定义组件（更多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#插件的使用"><span class="toc-number">6.11.</span> <span class="toc-text">插件的使用</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://s2.ax1x.com/2020/03/01/3gYnpV.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">小程序基础组件、API、应用场景及生态圈简介</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 發表於 2018-10-31<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新於 2021-03-22</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/技术/">技术</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字數總計:</span><span class="word-count">3.6k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>閲讀時長: 12 分鐘</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>閲讀量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h3 id="小程序的使用场景"><a href="#小程序的使用场景" class="headerlink" title="小程序的使用场景"></a>小程序的使用场景</h3><ol>
<li>可以取代低频的app，不占空间（如排队、公交车）</li>
<li>适用功能单一的（因为小程序最大2M）</li>
<li>适合配合线下店铺一起适用的，扫描即可获取店铺信息</li>
<li>不适应于高频的app<br> 原因1：和原生app比，入口太深，<br> 原因2：小程序体验虽然比h5要好，但是没有app体验好</li>
<li>不适用流量和分发的产品（小程序不支持流量）</li>
</ol>
<h3 id="小程序SWOT分析"><a href="#小程序SWOT分析" class="headerlink" title="小程序SWOT分析"></a>小程序SWOT分析</h3><ol>
<li><p>优势Strenths</p>
<ul>
<li><p>无需安装、随用随点</p>
<p>  用户使用成本更低，无需下载安装，通过搜索、扫码、摇一摇、点击分享等形式。在Android系统中，若腾讯将微信小程序图标发布到操作系统桌面中，可令用户几乎分辨不出原生APP与小程序。</p>
</li>
<li><p>跨平台开发</p>
<p>  微信APP已屏蔽了IOS和Android的差异，在相同版本的微信APP下，开发者无需关心操作系统的类型与版本，一套代码可满足各平台需求。</p>
</li>
<li><p>丰富的组件和API</p>
</li>
</ul>
</li>
<li><p>劣势Weaknesses</p>
<ul>
<li><p>客户端计算能力不及APP：</p>
<p>  因微信小程序使用H5技术，代码运行环境为webkit引擎，无法运行复杂的大型计算，某些场景无法支持。</p>
</li>
</ul>
</li>
<li><p>机会Opportunities</p>
<ul>
<li><p>巨大流量入口：</p>
<p>  微信作为国内装机量最大的APP，月活用户已超过8亿，微信朋友圈用户粘度很高，利于小程序的推广使用。</p>
</li>
<li><p>技术较为成熟：</p>
<p>  小程序所需技能点为html+js+css，相关技术从业人员广、技术成熟，开发上手容易，学习成本低。</p>
</li>
<li><p>满足客户新鲜感体验：</p>
<p>  微信小程序推出不久，网络讨论热度高，部分用户会出于尝鲜心理体验小程序。</p>
</li>
</ul>
</li>
<li><p>威胁Threats</p>
<ul>
<li><p>数据安全性较低：</p>
<p>  小程序的编写语言为解释执行语言，发布小程序需把源码发布到腾讯服务器，运行环境为微信APP内嵌浏览器，开发者需对腾讯的信任级别达到操作系统级别。</p>
</li>
<li><p>自由度受制于微信：</p>
<p>  接口和权限均依赖于微信及其API，小程序能实现的功能场景，完全依赖于微信APP提供的能力。小程序的开发自由度是没有native app高的。</p>
</li>
<li><p>对自家APP造成冲击：</p>
<p>  因为小程序良好的体验和强大的可扩展性，客户容易分流，对自家APP的装机量和使用时长造成冲击。</p>
</li>
</ul>
</li>
</ol>
<h3 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h3><p>一个小程序主体部分由三个文件组成，必须放在项目的根目录</p>
<p><a href="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%871.png" data-fancybox="group" data-caption="app小程序入口结构" class="fancybox"><img src="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%871.png" alt="app小程序入口结构" title="app小程序入口结构"></a></p>
<p>一个小程序页面由四个文件组成</p>
<p><a href="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%872.png" data-fancybox="group" data-caption="页面结构" class="fancybox"><img src="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%872.png" alt="页面结构" title="页面结构"></a></p>
<h3 id="常用组件"><a href="#常用组件" class="headerlink" title="常用组件"></a>常用组件</h3><p><a href="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%873.png" data-fancybox="group" data-caption="常用组件" class="fancybox"><img src="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%873.png" alt="常用组件" title="常用组件"></a></p>
<h3 id="文档Api结构"><a href="#文档Api结构" class="headerlink" title="文档Api结构"></a>文档Api结构</h3><p><a href="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%874.png" data-fancybox="group" data-caption="文档Api结构" class="fancybox"><img src="http://pheputc6t.bkt.clouddn.com/%E5%9B%BE%E7%89%874.png" alt="文档Api结构" title="文档Api结构"></a></p>
<h3 id="小程序高频基础开发组件、API"><a href="#小程序高频基础开发组件、API" class="headerlink" title="小程序高频基础开发组件、API"></a>小程序高频基础开发组件、API</h3><h4 id="view基础容器（更多）"><a href="#view基础容器（更多）" class="headerlink" title="view基础容器（更多）"></a>view基础容器（<a href="https://developers.weixin.qq.com/miniprogram/dev/component/view.html" title="更多" target="_blank" rel="noopener">更多</a>）</h4><pre><code>&lt;view class=&quot;flex-item bc_green&quot; hover-class=”className” hover-start-time=“{{50}}”&gt;1&lt;/view&gt;

hover-class 按击时添加className类；
hover-start-time 按住后多久出现点击态，单位毫秒
</code></pre><h4 id="滚动容器（更多）"><a href="#滚动容器（更多）" class="headerlink" title="滚动容器（更多）"></a>滚动容器（<a href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html" target="_blank" rel="noopener">更多</a>）</h4><pre><code>&lt;scroll-view scroll-y style=&quot;height: 200px;&quot; bindscrolltoupper=&quot;upper&quot; bindscrolltolower=&quot;lower&quot; bindscroll=&quot;scroll&quot; scroll-top=&quot;{{scrollTop}}&quot;&gt; 
&lt;/scroll-view&gt;

scroll-y 允许纵向滚动
Bindscrolltoupper 滚动到顶部/左边，会触发 scrolltoupper 事件
Bindscrolltolower 滚动到底部/右边，会触发 scrolltolower 事件
Bindscroll 滚动时触发
scroll-top 设置竖向滚动条位置
</code></pre><p>注意：使用竖向滚动时，需要给<scroll-view>一个固定高度，通过 WXSS 设置 height</scroll-view></p>
<h4 id="跳转页面（更多）"><a href="#跳转页面（更多）" class="headerlink" title="跳转页面（更多）"></a>跳转页面（<a href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html" target="_blank" rel="noopener">更多</a>）</h4><p>使用navigator标签,与html5的a标签相似</p>
<pre><code>&lt;navigator url=&quot;/page/navigate/navigate?title=navigate&quot; hover-class=&quot;navigator-hover&quot;&gt;
    跳转到新页面
&lt;/navigator&gt;

url 当前小程序内的跳转链接
target 在哪个目标上发生跳转，默认当前小程序，可选值self/miniProgram
hover-class 指定点击时的样式类，当hover-class=&quot;none&quot;时，没有点击态效果
open-type 跳转方式
</code></pre><p>open-type有效值:</p>
<ol>
<li>navigate 对应 wx.navigateTo 保留当前页面，跳转到应用内的某个页面</li>
<li>redirect 对应 wx.redirectTo 关闭当前页面，跳转到应用内的某个页面</li>
<li>switchTab 对应 wx.switchTab 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面</li>
<li>reLaunch 对应 wx.reLaunch 关闭所有页面，打开到应用内的某个页面</li>
<li>navigateBack 对应 wx.navigateBack 关闭当前页面，返回上一页面或多级页面。</li>
<li>exit 退出小程序，target=”miniProgram”时生效</li>
</ol>
<p>js跳转</p>
<pre><code>//保留当前页面,跳转相应页面
wx.navigateTo({url:&apos;/page/navigate/navigate?title=navigate&apos;});

//返回上一页
wx.navigateBack({delta:1})

//关闭当前页，跳转到某个页面
wx.redirectTo({ url: &apos;/page/navigate/navigate?title=navigate&apos;})
</code></pre><h4 id="图片（更多）"><a href="#图片（更多）" class="headerlink" title="图片（更多）"></a>图片（<a href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html" target="_blank" rel="noopener">更多</a>）</h4><pre><code>&lt;image mode=&quot;scaleToFill&quot; src=&quot;{{src}}&quot; lazy-load=“{{true}} bindload=&quot;imgLoad&quot;&gt;&lt;/image&gt;

mode 图片裁剪模式(默认：scaleToFill)
lazy-load 图片懒加载。只针对page与scroll-view下的image有效
bindload 当图片载入完毕时触发回调
binderror 当图片载入错误时触发回调
</code></pre><p>mode属性值：</p>
<p>原图</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/image/cat/0.jpg?t=18102614" data-fancybox="group" data-caption="原图" class="fancybox"><img src="https://developers.weixin.qq.com/miniprogram/dev/image/cat/0.jpg?t=18102614" alt="原图" title="原图"></a></p>
<p><strong>scaleToFill</strong><br>不保持纵横比缩放图片，使图片完全适应</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/image/cat/1.png?t=18102614" data-fancybox="group" data-caption="原图" class="fancybox"><img src="https://developers.weixin.qq.com/miniprogram/dev/image/cat/1.png?t=18102614" alt="原图" title="原图"></a></p>
<p><strong>aspectFit</strong><br>保持纵横比缩放图片，使图片的长边能完全显示出来</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/image/cat/2.png?t=18102614" data-fancybox="group" data-caption="原图" class="fancybox"><img src="https://developers.weixin.qq.com/miniprogram/dev/image/cat/2.png?t=18102614" alt="原图" title="原图"></a></p>
<p><strong>aspectFill</strong><br>保持纵横比缩放图片，只保证图片的短边能完全显示出来</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/image/cat/3.png?t=18102614" data-fancybox="group" data-caption="原图" class="fancybox"><img src="https://developers.weixin.qq.com/miniprogram/dev/image/cat/3.png?t=18102614" alt="原图" title="原图"></a></p>
<p>注意：image组件默认宽度300px、高度225px。image组件中二维码/小程序码图片不支持长按识别。仅在wx.previewImage中支持长按识别。</p>
<h4 id="全局配置（更多）"><a href="#全局配置（更多）" class="headerlink" title="全局配置（更多）"></a>全局配置（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">更多</a>）</h4><p>小程序配置文件app,json可配置项很多，说一下常用的window和tabBar的配置</p>
<p>Window</p>
<p>设置小程序的状态栏、导航条、标题、窗口背景色。</p>
<pre><code>{
  &quot;window&quot;:{
    &quot;navigationBarBackgroundColor&quot;: &quot;#ffffff&quot;,
    &quot;navigationBarTextStyle&quot;: &quot;black&quot;,
    &quot;navigationBarTitleText&quot;: &quot;微信接口功能演示&quot;,
    &quot;backgroundColor&quot;: &quot;#eeeeee&quot;,
    &quot;backgroundTextStyle&quot;: &quot;light&quot;
  }
}
</code></pre><p><a href="https://developers.weixin.qq.com/miniprogram/dev/image/config.jpg?t=18103009" data-fancybox="group" data-caption class="fancybox"><img src="https://developers.weixin.qq.com/miniprogram/dev/image/config.jpg?t=18103009" alt title></a></p>
<p>tabBar</p>
<p>底部可切换tab栏设置</p>
<pre><code>&quot;tabBar&quot;: {
  &quot;color&quot;:&quot;#000&quot;,
  &quot;selectedColor&quot;:&quot;red&quot;,
  &quot;backgroundColor&quot;:&quot;#fff&quot;,
  &quot;borderStyle&quot;:&quot;#dcdcdc&quot;,
  &quot;position&quot;:&quot;bottom&quot;,

  &quot;list&quot;: [{
    &quot;pagePath&quot;: &quot;pages/index/index&quot;,
    &quot;text&quot;: &quot;商品&quot;,
    &quot;iconPath&quot;: &quot;img/goods.png&quot;,
    &quot;selectedIconPath&quot;: &quot;img/goods_active.png&quot;
  },
  {
    &quot;pagePath&quot;: &quot;pages/order/order&quot;,
    &quot;text&quot;: &quot;订单&quot;,
    &quot;iconPath&quot;: &quot;img/order.png&quot;,
    &quot;selectedIconPath&quot;: &quot;img/order_active.png&quot;
  }]
}
</code></pre><p><a href="https://developers.weixin.qq.com/miniprogram/dev/image/tabbar.png?t=18103009" data-fancybox="group" data-caption class="fancybox"><img src="https://developers.weixin.qq.com/miniprogram/dev/image/tabbar.png?t=18103009" alt title></a></p>
<p>tabBar下可配置属性：</p>
<ul>
<li>color tab上的文字默认颜色</li>
<li>selectedColor tab上的文字选中时的颜色</li>
<li>backgroundColor tab的背景色</li>
<li>borderStyle tabbar上边框的颜色， 仅支持 black / white</li>
<li>position tabBar的位置，仅支持 bottom / top</li>
<li><p>list tab的列表，详见 list 属性说明，最少2个、最多5个 tab</p>
<p>  list属性的值</p>
<ol>
<li>pagePath 页面路径，必须在 pages 中先定义</li>
<li>text tab 上按钮文字</li>
<li>iconPath 图片路径，icon 大小限制为40kb，建议尺寸为 81px * 81px，不支持网络图片。</li>
<li>selectedIconPath 选中时的图片路径</li>
</ol>
</li>
</ul>
<h4 id="生命周期（更多）"><a href="#生命周期（更多）" class="headerlink" title="生命周期（更多）"></a>生命周期（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" target="_blank" rel="noopener">更多</a>）</h4><ol>
<li><p>onLoad(query)</p>
<p> 页面加载时触发。一个页面只会调用一次，query（打开当前页面路径中的参数）</p>
</li>
<li><p>onReady</p>
<p> 页面初次渲染完成时触发。一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。<br>注意：对界面内容进行设置的 API 如wx.setNavigationBarTitle，请在onReady之后进行。</p>
</li>
<li><p>onShow</p>
<p> 页面显示/切入前台时触发。</p>
</li>
<li><p>onHide</p>
<p> 页面隐藏/切入后台时触发。 如 navigateTo 或底部 tab 切换到其他页面，小程序切入后台等。</p>
</li>
<li><p>onUnload</p>
<p> 页面卸载时触发。如redirectTo或navigateBack到其他页面时。</p>
</li>
</ol>
<h4 id="数据请求"><a href="#数据请求" class="headerlink" title="数据请求"></a>数据请求</h4><pre><code>wx.request({
  url: &apos;https://www.apiopen.top/femaleNameApi?page=1&apos;, 
  data: {
    x: &apos;&apos;,
    y: &apos;&apos;
  },
  header: {
    &apos;content-type&apos;: &apos;application/json&apos; // 默认值
  },
  success (res) {
    console.log(res.data)
  }
})
</code></pre><p>为保证数据的安全性，小程序中强制要求使用https,且所访问的https地址必须在小程序后台账号中被加入到可信域名中。否则请求失败。</p>
<p><a href="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1151228019,460177609&amp;fm=173&amp;s=182A5C3287FA442308EC74DC000080B1&amp;w=640&amp;h=316&amp;img.JPEG" data-fancybox="group" data-caption class="fancybox"><img src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1151228019,460177609&amp;fm=173&amp;s=182A5C3287FA442308EC74DC000080B1&amp;w=640&amp;h=316&amp;img.JPEG" alt title></a></p>
<p>该配置项位于小程序账号的“设置”→“开发设置”→“服务器域名”选项中。</p>
<h4 id="setData函数（更多）"><a href="#setData函数（更多）" class="headerlink" title="setData函数（更多）"></a>setData函数（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#pageprototypesetdataobject-data-function-callback" target="_blank" rel="noopener">更多</a>）</h4><p>Page.prototype.setData(Object data, Function callback)</p>
<p>setData 函数用于将数据从逻辑层发送到视图层（异步），同时改变对应的 this.data 的值（同步）。</p>
<pre><code>// 修改数据可以是数组对应下标的某个属性或对象的单个属性。
this.setData({
  &apos;array[0].text&apos;:&apos;changed data&apos;
},function(){
    Console.log(“渲染完成后打印”)
})
</code></pre><p>属性：</p>
<ol>
<li>data Object 这次要改变的数据</li>
<li>callback Function setData引起的界面更新渲染完毕后的回调函数</li>
</ol>
<p>注意：</p>
<ol>
<li>直接修改 this.data 而不调用 this.setData 是无法改变页面的状态的，还会造成数据不一致。</li>
<li>仅支持设置可 JSON 化的数据。</li>
<li>单次设置的数据不能超过1024kB，请尽量避免一次设置过多的数据。</li>
<li>请不要把 data 中任何一项的 value 设为 undefined ，否则这一项将不被设置并可能遗留一些潜在问题。</li>
</ol>
<h4 id="事件-更多"><a href="#事件-更多" class="headerlink" title="事件(更多)"></a>事件(<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank" rel="noopener">更多</a>)</h4><pre><code>// 点击事件bindtap
&lt;view id=&quot;tapTest&quot; data-hi=&quot;WeChat&quot; bindtap=&quot;tapName&quot;&gt; Click me! &lt;/view&gt;
Page({
  tapName: function(event) {

    // 可以从event中获取到data-hi的值
    console.log(event)
  }
})
</code></pre><p>事件绑定方式有两种，分别以以bind或catch开头，bind和catch后可以紧跟一个冒号，其含义不变。</p>
<pre><code>bindtap=&quot;functionName&quot; 或 bind:tap=&quot;functionName&quot;
catchtouchstart=&quot;functionName&quot; 或 catch:touchstart=&quot;functionName&quot;
</code></pre><p>bind事件绑定不会阻止冒泡事件向上冒泡，catch事件绑定可以阻止冒泡事件向上冒泡。</p>
<p>需要在捕获阶段监听事件时，可以采用capture-bind、capture-catch关键字，后者将中断捕获阶段和取消冒泡阶段。</p>
<h4 id="自定义组件（更多）"><a href="#自定义组件（更多）" class="headerlink" title="自定义组件（更多）"></a>自定义组件（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/" target="_blank" rel="noopener">更多</a>）</h4><ol>
<li><p>创建自定义组件</p>
<p> 类似于页面，一个自定义组件由 json wxml wxss js 4个文件组成。要编写一个自定义组件，首先需要在 json 文件中进行自定义组件声明（将 component 字段设为 true 可这一组文件设为自定义组件）：</p>
<pre><code>{
    &quot;component&quot;: true
}
</code></pre><p> 在 wxml 和 wxss 添加模板和样式，其中在 js 中需要使用 Component() 来注册组件，并提供组件的属性定义、内部数据和自定义方法。</p>
<p> Component构造器（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/component.html" target="_blank" rel="noopener">更多</a>）代码示例</p>
<pre><code>Component({
  properties: {
    // 这里定义了innerText属性，属性值可以在组件使用时指定
    innerText: {
      type: String,
      value: &apos;default value&apos;,
    }
  },
  data: {
    // 这里是一些组件内部数据
    someData: {}
  },
  methods: {
    // 这里是一个自定义方法
    customMethod: function(){}
  }
})
</code></pre></li>
<li><p>引用自定义组件</p>
<p> 先要在页面的 json 文件中进行引用声明。</p>
<pre><code>{
  &quot;usingComponents&quot;: {
    &quot;component-tag-name&quot;: &quot;path/to/the/custom/component&quot;
  }
}
</code></pre><p> 在wxml模板中使用</p>
<pre><code>&lt;view&gt;
  &lt;!-- 以下是对一个自定义组件的引用 --&gt;
  &lt;component-tag-name inner-text=&quot;Some text&quot;&gt;&lt;/component-tag-name&gt;
&lt;/view&gt;
</code></pre></li>
<li><p>组件间通信</p>
<ul>
<li><p>WXML 数据绑定：用于父组件向子组件的指定属性设置数据</p>
<pre><code>&lt;component-tag-name inner-text=&quot;Some text&quot;&gt;&lt;/component-tag-name&gt;
</code></pre></li>
<li><p>事件：用于子组件向父组件传递数据，可以传递任意数据。</p>
<pre><code>&lt;!-- 当自定义组件触发“myevent”事件时，调用“onMyEvent”方法 --&gt;
&lt;component-tag-name bindmyevent=&quot;onMyEvent&quot; /&gt;

// 使用 triggerEvent 方法触发事件myevent
this.triggerEvent(&apos;myevent&apos;, myEventDetail, myEventOption)
</code></pre></li>
<li>如果以上两种方式不足以满足需要，父组件还可以通过 this.selectComponent 方法获取子组件实例对象，这样就可以直接访问组件的任意数据和方法。</li>
</ul>
</li>
<li><p>behaviors 组件的混合属性（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/behaviors.html" target="_blank" rel="noopener">更多</a>）</p>
<p> 类似于vue的 “mixins” </p>
<p> 每个 behavior 可以包含一组属性、数据、生命周期函数和方法，组件引用它时，它的属性、数据和方法会被合并到组件中，生命周期函数也会在对应时机被调用。每个组件可以引用多个 behavior 。 behavior 也可以引用其他 behavior 。</p>
<ul>
<li><p>定义 behaviors 使用 Behavior() 构造器定义。</p>
<pre><code>// my-behavior.js
module.exports = Behavior({
  behaviors: [],
  properties: {
    myBehaviorProperty: {
      type: String
    }
  },
  data: {
    myBehaviorData: {}
  },
  attached: function(){},
  methods: {
    myBehaviorMethod: function(){}
  }
}) 
</code></pre></li>
<li><p>引入 behaviors </p>
<pre><code>// my-component.js
var myBehavior = require(&apos;my-behavior&apos;)
Component({
  behaviors: [myBehavior],
  properties: {
    myProperty: {
      type: String
    }
  }
})
</code></pre></li>
<li><p>字段的覆盖和组合规则</p>
<p>组件和它引用的 behavior 中可以包含同名的字段，对这些字段的处理方法如下：</p>
<ul>
<li>如果有同名的属性或方法，组件本身的属性或方法会覆盖 behavior 中的属性或方法，如果引用了多个 behavior ，在定义段中靠后 behavior 中的属性或方法会覆盖靠前的属性或方法；</li>
<li>如果有同名的数据字段，如果数据是对象类型，会进行对象合并，如果是非对象类型则会进行相互覆盖；</li>
<li>生命周期函数不会相互覆盖，而是在对应触发时机被逐个调用。如果同一个 behavior 被一个组件多次引用，它定义的生命周期函数只会被执行一次。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="插件的使用"><a href="#插件的使用" class="headerlink" title="插件的使用"></a>插件的使用</h4><p>小程序开发者可便捷地把插件添加到自己的小程序内，丰富小程序的服务。</p>
<p>接入流程</p>
<ol>
<li><p>在小程序管理后台添加插件</p>
<p> 小程序开发者可在”小程序管理后台-设置-第三方服务-插件管理“中，根据AppID查找需要的插件，并申请使用。</p>
</li>
<li><p>在小程序代码中使用插件</p>
<p> 对于插件的使用者，使用插件前要在 app.json 中声明需要使用的插件，例如：</p>
</li>
</ol>
<pre><code>    {
      &quot;plugins&quot;: {
        &quot;myPlugin&quot;: {
              &quot;version&quot;: &quot;1.0.0&quot;,
              &quot;provider&quot;: &quot;wxxxxxxxxxxxxxxxxx&quot;
        }
      }
    }

如上例所示， plugins 定义段中可以包含多个插件声明，每个插件声明中都必须指明插件的 appid 和需要使用的版本号。
</code></pre><ol>
<li><p>使用插件的 js 接口<br>在引入插件代码包之后，就可以在这个小程序中使用插件提供的自定义组件或者 js 接口。</p>
<p> 如果需要使用插件的 js 接口，可以使用 requirePlugin 方法：</p>
<pre><code>var myPluginInterface = requirePlugin(&apos;myPlugin&apos;)

myPluginInterface.hello()
</code></pre></li>
<li><p>使用插件的自定义组件</p>
<p> 使用插件提供的自定义组件，和使用普通自定义组件的方式相仿。在 json 文件定义需要引入的自定义组件时，使用 plugin:// 协议即可，例如：</p>
<pre><code>{
  &quot;usingComponents&quot;: {
    &quot;hello-component&quot;: &quot;plugin://myPlugin/hello-component&quot;
  }
}
</code></pre><p> 注意，出于对插件的保护，插件提供的自定义组件在使用上有一定的限制：</p>
<ul>
<li>页面中的 this.selectComponent 接口无法获得插件的自定义组件实例对象；</li>
<li>wx.createSelectorQuery 等接口的 &gt;&gt;&gt; 选择器无法选入插件内部。</li>
</ul>
</li>
</ol>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/小程序/">小程序    </a></div><div class="post_share"><div class="social-share" data-image="https://s2.ax1x.com/2020/03/01/3gYnpV.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/04/10/低端原理/"><img class="prev_cover lazyload" data-src="https://s2.ax1x.com/2020/03/01/3gYulT.md.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>前端初级核心基础</span></div></a></div><div class="next-post pull_right"><a href="/2018/06/13/良好js代码风格的养成/"><img class="next_cover lazyload" data-src="https://s2.ax1x.com/2020/03/01/3gYef0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>良好js代码风格的养成</span></div></a></div></nav></div></main><footer id="footer" style="background-image: url(https://s2.ax1x.com/2020/03/01/3gYnpV.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2021 By 温富杰</div><div class="framework-info"><span>Power by </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div><div class="footer_custom_text">初次为人，大胆点</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="閲讀模式"></i><i class="fa fa-plus" id="font_plus" title="放大字體"></i><i class="fa fa-minus" id="font_minus" title="縮小字體"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="簡繁轉換" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜間模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="設置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目錄" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到頂部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>